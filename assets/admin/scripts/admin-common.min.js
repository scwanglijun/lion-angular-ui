function errorRequest(a,b,c){util.error(defaultmsgs.title,"网络连接异常")}(function(){"use strict";function a(a,b){null===b?Metronic.blockUI({animate:!0,cenrerY:!0}):Metronic.blockUI({target:b,animate:!0,cenrerY:!0,overlayColor:"none"})}function b(a,b,c){null===c?Metronic.unblockUI(c):Metronic.unblockUI()}function c(a,b,c,d){d===f.unlogin?bootbox.alert('<span class="red">您未登录到信息，点击“确定”后，将进入用户登录页面.</span>',function(){lion.util.reload()}):d===f.unauth?e.warning(g.title,"您的访问功能未等到授权"):a===$.noop?e.error(g.title,"网络连接异常"):a.call(b,c,d)}var d={},e=this.util;this.web=d||{};var f={unlogin:"998",unauth:"999",loginurl:"/login.htm"},g={title:"提示",msgfail:"操作失败",unselectedmsg:"请选择要删除记录",confirmmsg:"确认要删除此记录？"};d.timeout=5e3;var h={target:"",url:"",data:{},success:$.noop,error:$.noop,args:{}},i={data:{},form:{},success:$.noop,error:$.noop,msg:g.msgfail};d.parsedata=function(a){a=$.extend(!0,i,a);var b=a.success||$.noop,c=(a.error||$.noop,a.data);if(null===c||c.hasError)if(null!==c&&c.hasError){var d="";for(var f in c.errorMessage)d+=c.errorMessage[f];lion.util.isEmpty(d)?e.error(g.title,a.msg):e.error(g.title,d)}else e.error(g.title,a.msg);else e.success(g.title,c.message),b.call(this)},d.post=function(e){e=$.extend(!0,h,e);var f=a||$.noop,g=b||$.noop,i=c||$.noop,j=e.success||$.noop,k=e.error||$.noop;$.ajax({url:e.url,type:"post",data:e.data,dataType:"json",cache:!1,timeout:d.timeout,beforeSend:function(a){f.call(this,a,e.target)},error:function(a,b,c){i.call(this,k,a,b,c,e.args)},complete:function(a,b){g.call(this,a,b,e.target)},success:function(a,b,c){j.call(this,a,e.args)}})},d.perms=f;var j={url:"",data:"",unselectedmsg:g.unselectedmsg,confirmmsg:g.confirmmsg,params:{keyName:"id",valueName:"id"},success:$.noop,error:$.noop,msg:g.msgfail};d.deletefn=function(a){return a=$.extend(!0,j,a),a.data?void bootbox.confirm(a.confirmmsg,function(b){if(b){var c={};if(!a.data.hasOwnProperty(a.params.valueName))return void e.warning(g.title,"参数不正确");c[a.params.keyName]=a.data[a.params.valueName],d.post({url:a.url,data:c,success:a.success,error:a.error})}}):void e.info(g.title,a.unselectedmsg)};d.exportfn=function(a){a=$.extend(!0,j,a);var b=a.url;-1===b.indexOf("?")&&(b+="?"),e.isNotEmpty(a.tableId)&&(b+="tableId="+a.tableId),e.isNotEmpty(a.data)&&(b+="&"+a.data),window.open(b,"_blank")},d.AppInit=function(){Metronic.init(),Layout.init(),Tasks.initDashboardWidget(),e.menu()}}).call(lion,jQuery);